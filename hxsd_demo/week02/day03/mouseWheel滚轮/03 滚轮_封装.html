<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
*{margin:0;padding:0}
div{width:300px;height:300px; background:red;}
</style>
<script>
window.onload=function(){
	
	function mouseWheel(obj,fn){
		if(window.navigator.userAgent.indexOf('Firefox')!=-1){	
			obj.addEventListener('DOMMouseScroll',wheelFn,false);
		}else obj.onmousewheel=wheelFn;
		
		function wheelFn(ev){
			var oEv=ev||event;
			var direct=oEv.wheelDelta ? oEv.wheelDelta<0 : oEv.detail>0;
			fn && fn(direct);//将direct作为参数传递出去
			if(window.event){//IE
				oEv.returnValue = false; //ie 阻止默认事件
				return false;//ie9 以上阻止回车
			}
			else{
				oEv.preventDefault();//阻止默认事件 firefox
			}
		};
	};
	
	
	var oDiv=document.getElementById('box');
	
	mouseWheel(oDiv,function(d){//参数可任意取名
		if(d){
			oDiv.style.background="red";
		}else{
			oDiv.style.background="green";
		}
	});
	
	
		
	
	
	
	
	
	
	
};
</script>
</head>

<body style="height:2000px;">
<div id="box"></div>
</body>
</html>
